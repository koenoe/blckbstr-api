(function() {

  'use strict';

  angular
    .module('app.widgets', [])
    .directive('search', search);

  function search() {
    var directive = {
      restrict: 'EA',
      templateUrl: '<%= asset_path("app/widgets/search.directive.html") %>',
      controller: searchController,
      bindToController: true
    };

    return directive;
  }

  function searchController($scope) {
    // create empty input field
    $scope.items = [''];

    $scope.addField = function() {

      if($scope.items.indexOf($scope.newitem) > -1 || $scope.items.length > 3 || $scope.newitem === '' ) {
        return;
      }

      // push username to array with usernames
      $scope.items.push('');
    }

    $scope.remove = function(index) {
      $scope.items.splice(index, 1);
    }
  }

})();